document.addEventListener("DOMContentLoaded", () => {
    const widthScreen = window.innerWidth || document.documentElement.clientWidth ||
        document.body.clientWidth;

    if (document.getElementById('homeSlider1')) {
        new Swiper('#homeSlider1', {
            spaceBetween: 30,
            loop: true,
            autoplay: {
                delay: 2500,
            },
            pagination: {
                el: '#homeSlider1Pag',
                clickable: true,
            },
            navigation: {
                nextEl: '#homeNext',
                prevEl: '#homePrev',
            },
        });
    }


    const slider = document.querySelectorAll('.slider-product');

    slider.forEach(el => {
        let navNextId = '#' + el.dataset.navnext;
        let navPrevId = '#' + el.dataset.navprev;
        //let scrollbarId = '#' + el.dataset.scrollbar;
        new Swiper(el, {
            slidesPerView: 4,
            spaceBetween: 26,
            navigation: {
                nextEl: navNextId,
                prevEl: navPrevId,
            },
            /*scrollbar: {
                el: scrollbarId,
                draggable: true,
            },*/
            breakpoints: {
                300: {
                    slidesPerView: 'auto',
                    spaceBetween: 16

                },
                574: {
                    slidesPerView: 'auto',
                    spaceBetween: 16
                },
                991: {
                    slidesPerView: 'auto',
                    spaceBetween: 16
                },
                1200: {
                    slidesPerView: 4,
                    spaceBetween: 26
                }
            }
        });
    });

    if (document.getElementById('bannerSlider')) {
        new Swiper('#bannerSlider', {
            spaceBetween: 56,
            slidesPerView: 2,
            loop: true,
            /*pagination: {
                el: '#homeSlider1 .home-sliders__pagination',
                clickable: true,
            },*/
            breakpoints: {
                300: {
                    slidesPerView: 'auto',
                    spaceBetween: 20

                },
                574: {
                    slidesPerView: 'auto',
                    spaceBetween: 20
                },
                991: {
                    slidesPerView: 1,
                    spaceBetween: 20
                },
                1200: {
                    slidesPerView: 2,
                    spaceBetween: 56
                }
            },
            navigation: {
                nextEl: '#bannerSliderNext',
                prevEl: '#bannerSliderPrev',
            },
        });
    }

    let elemetsMenu = document.querySelectorAll('.js-nav1')

    elemetsMenu.forEach((el) => {
        el.addEventListener('mouseover', () => {
            let activeNav = document.querySelector('.js-nav1.active');
            if (activeNav) {
                activeNav.classList.remove("active");
            }

            el.classList.add('active');
            let activeIdSubNav = el.dataset.target;


            let removeActiveNav = document.querySelector('.header__middle__menu__level2.active');
            if (removeActiveNav) {
                removeActiveNav.classList.remove("active");
            }

            let animateLinks2 = document.querySelectorAll('.animate__animated.animate__fadeInLeft');
            animateLinks2.forEach((link) => {
                link.classList.remove('animate__animated');
            });

            if (document.getElementById(activeIdSubNav)) {
                document.getElementById(activeIdSubNav).classList.add("active");
                let animateLinks = document.getElementById(activeIdSubNav).querySelectorAll('.animate__fadeInLeft');
                animateLinks.forEach((link) => {
                    link.classList.add('animate__animated');
                });
            }
        });

    });

    function getScrollMenu() {
        let el = document.body;
        const header = document.getElementById('header');
        if (pageYOffset > 200) {
            let headerHeight = header.offsetHeight + 'px';
            header.style.height = headerHeight;
            el.classList.add('fix_menu');
        } else {
            el.classList.remove("fix_menu");
            header.style.height = 'auto';
        }
    }

    if (widthScreen > 1199) {
        getScrollMenu();
        window.addEventListener('scroll', function () {
            getScrollMenu();
        });
    }

    if (widthScreen < 1200) {
        if(document.getElementById('catList')) {
            new Swiper('#catList', {
                spaceBetween: 15,
                slidesPerView: 'auto',
                loop: false,
            });
        }

    }
});


function timer() {
    //document.querySelector('.daySaleItem .timer').show();
    let cloack = document.getElementById('daySaleTimerDate');
    let i = Number(cloack.dataset.date);
    setInterval(function () {
        let h = Math.floor(Math.floor(i / 60) / 60),
            m = Math.floor(i / 60) - h * 60,
            s = i - Math.floor(i / 60) * 60,
            t = '<span>' + ((h < 10) ? '0' : '') + h + '</span>:<span>' + ((m < 10) ? '0' : '') + m + '</span>:<span>' + ((s < 10) ? '0' : '') + s + '</span>';
        cloack.innerHTML = t;
        i = i - 1;
    }, 1000);
}
